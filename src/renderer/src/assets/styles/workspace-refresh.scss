/* Workspace-wide visual refresh: align notebook shell to settings-grade surfaces */

.app-container .main-content {
  background:
    radial-gradient(1200px 360px at 12% -12%, color-mix(in srgb, var(--color-bg-hover) 62%, transparent), transparent 62%),
    radial-gradient(980px 320px at 100% 0%, color-mix(in srgb, var(--color-bg-secondary) 76%, transparent), transparent 66%),
    var(--color-bg-primary);
  padding: 12px;
  gap: 12px;
}

.app-container .main-content.main-content--agent-sidebar {
  padding-right: calc(var(--agent-sidebar-width) + 12px);
}

.app-container .panel {
  border: 1px solid color-mix(in srgb, var(--color-border) 72%, transparent) !important;
  border-radius: 16px !important;
  background: color-mix(in srgb, var(--color-bg-card) 96%, var(--color-bg-primary)) !important;
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.08) !important;
}

.app-container .panel--editor {
  box-shadow: 0 14px 32px rgba(15, 23, 42, 0.1) !important;
}

.app-container .sidebar-rail {
  padding: 12px 8px 8px !important;
  border-right: none !important;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--color-bg-secondary) 92%, white 8%),
    color-mix(in srgb, var(--color-bg-secondary) 98%, transparent)
  ) !important;
}

.app-container .rail-btn {
  width: 38px;
  height: 38px;
  border-radius: 12px !important;
  border: 1px solid transparent !important;
  color: color-mix(in srgb, var(--color-text-secondary) 92%, transparent) !important;
}

.app-container .rail-btn:hover {
  border-color: color-mix(in srgb, var(--color-border) 78%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-hover) 90%, transparent) !important;
  color: var(--color-text-primary) !important;
}

.app-container .rail-btn--active {
  border-color: color-mix(in srgb, var(--color-border-dark) 76%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-card) 95%, transparent) !important;
  color: var(--color-text-primary) !important;
}

.app-container .note-list {
  background: transparent !important;
  border-right: none !important;
}

.app-container .note-list__header {
  min-height: 44px !important;
  padding: 12px 12px 8px;
}

.app-container .note-list__title {
  font-size: var(--font-size-xs) !important;
  font-weight: 700 !important;
  letter-spacing: var(--letter-wide);
  text-transform: uppercase;
}

.app-container .note-list__folder-filter-trigger {
  height: 28px !important;
  border-radius: 9px !important;
}

.app-container .search-bar {
  margin: 2px 10px 10px !important;
  height: 38px !important;
  border-radius: 11px !important;
  border: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-card) 96%, transparent) !important;
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.06);
}

.app-container .note-list__content {
  padding: 4px 10px 10px !important;
}

.app-container .note-list__layer-header {
  border-radius: 9px !important;
  padding: 7px 10px !important;
}

.app-container .note-card {
  margin-bottom: 4px !important;
  padding: 8px 10px !important;
  border-radius: 12px !important;
  border: 1px solid transparent !important;
  background: transparent !important;
  transition: border-color 0.14s ease, background-color 0.14s ease, transform 0.14s ease;
}

.app-container .note-card:hover {
  border-color: color-mix(in srgb, var(--color-border) 74%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-hover) 84%, transparent) !important;
  transform: translateY(-1px);
}

.app-container .note-card--active {
  border-color: color-mix(in srgb, var(--color-border-dark) 80%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-card) 96%, transparent) !important;
  box-shadow: 0 5px 14px rgba(15, 23, 42, 0.06);
}

.app-container .note-card__title {
  font-size: var(--font-size-md) !important;
  line-height: var(--line-height-tight) !important;
  letter-spacing: var(--letter-normal) !important;
  font-weight: 560 !important;
}

.app-container .note-card__meta,
.app-container .note-card__date {
  font-size: var(--font-size-xs) !important;
  color: color-mix(in srgb, var(--color-text-muted) 92%, transparent) !important;
}

.app-container .note-editor {
  background: transparent !important;
}

.app-container .note-editor__toolbar {
  margin: 10px 12px 0 !important;
  border-radius: 12px !important;
  border: 1px solid color-mix(in srgb, var(--color-border) 68%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-card) 96%, transparent) !important;
  box-shadow: 0 4px 14px rgba(15, 23, 42, 0.06) !important;
}

.app-container .note-editor__title-wrapper {
  margin: 8px 16px 0 !important;
  border-bottom: 1px dashed color-mix(in srgb, var(--color-border) 76%, transparent) !important;
}

.app-container .note-editor__title {
  padding: 12px 4px !important;
  font-size: clamp(28px, 2.4vw, 38px) !important;
  font-weight: 650 !important;
  letter-spacing: var(--letter-tight);
  line-height: 1.2;
}

.app-container .note-editor__content {
  padding: 0 16px 16px !important;
}

.app-container .note-editor .ProseMirror {
  max-width: 860px;
  margin: 0 auto;
  padding: 16px 10px 72px !important;
  font-size: var(--font-size-lg) !important;
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-normal);
}

.app-container .note-editor__outline {
  border-radius: 12px !important;
  border: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent) !important;
}

.app-container .agent-chat.sidebar-mode {
  border-radius: 16px !important;
  border: 1px solid color-mix(in srgb, var(--color-border) 72%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-card) 97%, transparent) !important;
  box-shadow: 0 14px 32px rgba(15, 23, 42, 0.12) !important;
}

.app-container .agent-chat.sidebar-mode .agent-chat__header {
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 62%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-primary) 95%, transparent) !important;
}

.app-container .agent-chat.sidebar-mode .agent-chat__messages {
  padding: 12px !important;
  background: transparent !important;
}

.app-container .agent-chat.sidebar-mode .message--assistant .message {
  border-radius: 0 !important;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
  font-size: var(--font-size-md);
  line-height: var(--line-height-normal);
}

.app-container .agent-chat.sidebar-mode .status-update {
  border: none !important;
  border-radius: 0 !important;
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}

.app-container .agent-chat.sidebar-mode .message--user .message {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--color-border-dark) 76%, transparent) !important;
  background: color-mix(in srgb, var(--color-bg-hover) 92%, transparent) !important;
  font-size: var(--font-size-md);
  line-height: var(--line-height-normal);
}

.app-container .agent-chat.sidebar-mode .agent-chat__footer {
  border-top: 1px solid color-mix(in srgb, var(--color-border) 58%, transparent) !important;
}

[data-theme="dark"] .app-container .panel {
  background: color-mix(in srgb, #111a2c 82%, var(--color-bg-card) 18%) !important;
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.34) !important;
}

[data-theme="dark"] .app-container .sidebar-rail {
  background: linear-gradient(180deg, #111a2c, #0f172a) !important;
}

[data-theme="dark"] .app-container .agent-chat.sidebar-mode {
  background: color-mix(in srgb, #0d1527 84%, var(--color-bg-card) 16%) !important;
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.4) !important;
}
